{"version":3,"sources":["components/TodoForm.tsx","reducers/todoReducer.ts","services/todos.ts","components/TodoList.tsx","App.tsx","reducers/index.ts","index.tsx"],"names":["initialValues","name","validationSchema","yup","shape","required","TodoForm","dispatch","useDispatch","onSubmit","values","actions","console","log","a","todo","axios","post","then","res","data","newTodo","type","payload","setSubmitting","isSubmitting","handleSubmit","handleChange","FormControl","TextField","label","value","onChange","variant","Button","disabled","color","TodoList","todos","useSelector","state","useEffect","get","List","dense","map","ListItem","ListItemText","primary","ListItemSecondaryAction","IconButton","Delete","App","Grid","container","spacing","direction","item","md","src","alt","rootReducer","combineReducers","action","concat","store","createStore","undefined","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"0PAWMA,EAA4B,CAChCC,KAAM,IAGFC,EAAmBC,MAAaC,MAAM,CAC1CH,KAAME,MAAaE,SAAS,mBAgDfC,EA7CE,WACf,IAAMC,EAAWC,cAEjB,OACE,8BACE,cAAC,IAAD,CACER,cAAeA,EACfE,iBAAkBA,EAClBO,SAAU,SAACC,EAAQC,GCaD,IAACV,EDZjBW,QAAQC,IAAIH,GACZH,GCWiBN,EDXGS,EAAOT,KCYnC,uCAAO,WAAOM,GAAP,eAAAO,EAAA,sECtCeC,EDuCU,CAAEd,QCtC3Be,IAAMC,KAAK,cAAeF,GAAMG,MAAK,SAAAC,GAAG,OAAIA,EAAIC,QDqChD,OACCC,EADD,OAELd,EAAS,CACPe,KAAM,cACNC,QAAS,CACPR,KAAMM,KALL,iCCtCc,IAACN,IDsCf,OAAP,wDDXQJ,EAAQa,eAAc,IAN1B,SASG,gBACCd,EADD,EACCA,OACAe,EAFD,EAECA,aACAC,EAHD,EAGCA,aACAC,EAJD,EAICA,aAJD,OAMC,uBAAMlB,SAAUiB,EAAhB,UACE,cAACE,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CACEC,MAAM,YACN7B,KAAK,OACL8B,MAAOrB,EAAOT,KACd+B,SAAUL,EACVM,QAAQ,eAGZ,cAACC,EAAA,EAAD,CACEZ,KAAK,SACLa,SAAUV,EACVQ,QAAQ,YACRG,MAAM,UAJR,kC,sDGfGC,EA3BE,WACf,IAAMC,EAAQC,aAAY,SAACC,GAAD,OAAsBA,EAAMF,MAAMA,SACtD/B,EAAWC,cAKjB,OAJAiC,qBAAU,WACRlC,EF0CF,uCAAO,WAAOA,GAAP,eAAAO,EAAA,sEC7CAE,IAAM0B,IAAI,eAAexB,MAAK,SAAAC,GAAG,OAAIA,EAAIC,QD6CzC,OACCkB,EADD,OAEL/B,EAAS,CACPe,KAAM,aACNC,QAAS,CACPe,WALC,2CAAP,yDEzCG,IAGD,8BACE,cAACK,EAAA,EAAD,CAAMC,OAAO,EAAb,SACGN,EAAQA,EAAMO,KAAI,SAAA9B,GAAI,OACrB,eAAC+B,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CACEC,QAASjC,EAAKd,OAEhB,cAACgD,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,UANSpC,EAAKd,SAUjB,UCCEmD,EAtBH,WACV,OACE,8BACE,eAACC,EAAA,EAAD,CACEC,WAAS,EACTC,QAAS,EACTC,UAAU,SAHZ,UAKE,cAACH,EAAA,EAAD,CAAMI,MAAI,EAACC,GAVN,EAUL,SACE,qBAAKC,IAAI,UAAUC,IAAI,YAEzB,cAACP,EAAA,EAAD,CAAMI,MAAI,EAACC,GAbN,EAaL,SACE,cAAC,EAAD,MAEF,cAACL,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACE,cAAC,EAAD,Y,iBClBJG,EAAcC,YAAgB,CAClCxB,MJuByB,WAAgE,IAA/DE,EAA8D,uDAA/C,CAAEF,MAAO,MAAQyB,EAA8B,uCACxF,OAAQA,EAAOzC,MACb,IAAK,aACH,OAAO,2BAAKkB,GAAZ,IAAmBF,MAAOyB,EAAOxC,QAAQe,QAC3C,IAAK,cACH,IAAMA,EAAQE,EAAMF,MAAQE,EAAMF,MAAQ,GAC1C,OAAO,2BAAKE,GAAZ,IAAmBF,MAAOA,EAAM0B,OAAOD,EAAOxC,QAAQR,QACxD,QACE,OAAOyB,MI5BAyB,EAAQC,YACnBL,OACAM,EACAC,YAAgBC,MCLlBC,IAASC,OACP,cAAC,IAAD,CAAUN,MAAOA,EAAjB,SACE,cAAC,EAAD,MAEFO,SAASC,eAAe,W","file":"static/js/main.4f1cb961.chunk.js","sourcesContent":["import React from 'react';\nimport { Formik } from \"formik\";\nimport { Button, FormControl, TextField } from '@material-ui/core';\nimport * as yup from \"yup\"\nimport { useDispatch } from 'react-redux';\nimport { createTodo } from '../reducers/todoReducer';\n\ntype FormValues = {\n  name: string;\n}\n\nconst initialValues: FormValues = {\n  name: \"\"\n}\n\nconst validationSchema = yup.object().shape({\n  name: yup.string().required(\"Required TODO\")\n})\n\nconst TodoForm = () => {\n  const dispatch = useDispatch()\n  \n  return (\n    <div>\n      <Formik\n        initialValues={initialValues}\n        validationSchema={validationSchema}\n        onSubmit={(values, actions) => {\n          console.log(values)\n          dispatch(createTodo(values.name))\n          actions.setSubmitting(false)\n        }}\n      >\n        {({\n          values,\n          isSubmitting,\n          handleSubmit,\n          handleChange\n        }) => (\n          <form onSubmit={handleSubmit}>\n            <FormControl>\n              <TextField\n                label=\"TODO name\"\n                name=\"name\"\n                value={values.name}\n                onChange={handleChange}\n                variant=\"outlined\"\n              />\n            </FormControl>\n            <Button\n              type=\"submit\"\n              disabled={isSubmitting}\n              variant=\"contained\"\n              color=\"primary\"\n            >\n              Create TODO\n            </Button>\n          </form>\n        )}\n      </Formik>\n    </div>\n  );\n};\n\nexport default TodoForm;","import { Dispatch } from \"redux\"\nimport { addTodo, getTodos } from \"../services/todos\"\n\nexport type Todo = {\n  name: string;\n}\n\nexport type State = {\n  todos?: Todo[] | null;\n}\n\n// const CREATE_TODO = \"CREATE_TODO\"\n// const INITIALIZE = \"INITIALIZE\"\ntype CreateTodoAction = {\n  type: \"CREATE_TODO\";\n  payload: {\n    todo: Todo;\n  }\n}\ntype InitializeAction = {\n  type: \"INITIALIZE\";\n  payload: {\n    todos: Todo[];\n  }\n}\n\nexport type TodoAction = CreateTodoAction | InitializeAction\n\nexport const todoReducer = (state: State = { todos: null }, action: TodoAction): State => {\n  switch (action.type) {\n    case \"INITIALIZE\":\n      return { ...state, todos: action.payload.todos }\n    case \"CREATE_TODO\":\n      const todos = state.todos ? state.todos : []\n      return { ...state, todos: todos.concat(action.payload.todo) }\n    default:\n      return state\n  }\n}\n\nexport const createTodo = (name: string) => {\n  return async (dispatch: Dispatch<TodoAction>) => {\n    const newTodo = await addTodo({ name })\n    dispatch({\n      type: \"CREATE_TODO\",\n      payload: {\n        todo: newTodo,\n      },\n    })\n  }\n}\n\nexport const initializeTodos = () => {\n  return async (dispatch: Dispatch<TodoAction>) => {\n    const todos = await getTodos()\n    dispatch({\n      type: \"INITIALIZE\",\n      payload: {\n        todos\n      }\n    })\n  }\n}","import axios from \"axios\";\nimport { Todo } from \"../reducers/todoReducer\";\n\nexport const addTodo = (todo: Todo) => {\n  return axios.post(\"/api/todos/\", todo).then(res => res.data)\n}\n\nexport const getTodos = () => {\n  return axios.get(\"/api/todos/\").then(res => res.data)\n}","import { IconButton, List, ListItem, ListItemSecondaryAction, ListItemText } from '@material-ui/core';\nimport { Delete } from '@material-ui/icons';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { RootState } from '../reducers';\nimport { initializeTodos } from '../reducers/todoReducer';\n\nconst TodoList = () => {\n  const todos = useSelector((state: RootState) => state.todos.todos)\n  const dispatch = useDispatch()\n  useEffect(() => {\n    dispatch(initializeTodos())\n  }, [])\n\n  return (\n    <div>\n      <List dense={true}>\n        {todos ? todos.map(todo => (\n          <ListItem key={todo.name}>\n            <ListItemText\n              primary={todo.name}\n            />\n            <ListItemSecondaryAction>\n              <IconButton>\n                <Delete />\n              </IconButton>\n            </ListItemSecondaryAction>\n          </ListItem>\n        )) : null}\n      </List>\n    </div>\n  );\n};\n\nexport default TodoList;","import { Grid } from '@material-ui/core';\nimport React from 'react';\nimport TodoForm from './components/TodoForm';\nimport TodoList from './components/TodoList';\n\nconst size = 6\n\nconst App = () => {\n  return (\n    <div>\n      <Grid\n        container\n        spacing={2}\n        direction=\"column\"\n      >\n        <Grid item md={size}>\n          <img src=\"/image/\" alt=\"daily\" />\n        </Grid>\n        <Grid item md={size}>\n          <TodoForm />\n        </Grid>\n        <Grid item md={4}>\n          <TodoList />\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nexport default App;","import { applyMiddleware, combineReducers, createStore } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { todoReducer } from \"./todoReducer\";\n\nconst rootReducer = combineReducers({\n  todos: todoReducer,\n})\n\nexport const store = createStore(\n  rootReducer,\n  undefined,\n  applyMiddleware(thunk)\n)\n\nexport type RootState = ReturnType<typeof rootReducer>","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./App\"\nimport { store } from \"./reducers\"\nimport { Provider } from \"react-redux\"\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n)"],"sourceRoot":""}